<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Project Huffman!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.css" rel="stylesheet">
    <link href="css/demo.css" rel="stylesheet">

    <link rel="shortcut icon" href="images/favicon.ico">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript">
        function compresionTexto(){
            document.getElementById('canvas').innerHTML = '';
          var parrafo = $("#texto").val();
          var buscado = busqueda(parrafo);
            var peso= imprimirPesos(buscado);
          document.getElementById('weight').innerHTML = '<h5>Los pesos del texto son: </h5>'+peso+'<br>';
          var nodos_creados = crear_nodos(buscado);
          var arbol = crear_arbol(nodos_creados);
          var codificado = codificar(arbol, parrafo);
          document.getElementById('result').innerHTML = '<h5>El resultado es: </h5><br><textarea class="form-control">'+codificado+'</textarea>';
        }
        
        function imprimirPesos(pesos){
            var result= '';
            for (var i=0; i<pesos.length; i++){
                if (pesos[i][0] == ' ')
                    result= result+"' ' - "+pesos[i][1]+'<br>';
                else
                    result= result+pesos[i][0]+" - "+pesos[i][1]+'<br>';
            }
            return result;
            
        }
    </script>
</head>

<body>


    <div class="container">
        <div class="header">
            <ul class="nav nav-pills pull-right">
                <li>
                    <a href="home.html">Home</a>
                </li>
                <li>
                    <a href="teoria.html">Teoría</a>
                </li>
                <li class="active">
                    <a href="ejemplo.html">Ejemplo</a>
                </li>
            </ul>
            <h3 class="text-muted">Project Huffman!</h3>
        </div>

        <div class="jumbotron">
            <h1>Ejemplo de Huffman</h1>
            <p class="lead">Hemos realizado con javascript el código del algoritmo de Huffman, puedes probarlo en el campo de texto de abajo. Puedes usarlo, si quieres, para comprobar si has hecho bien un ejercicio, o si quieres, por simple curiosidad.</p>
            <p>
                Advierto que, al ejecutarse en el navegador, la memomria del programa está muy limitada, por lo que no debeis poner textos excesivamente largo. Para textos largos, descargar el javascript de
                <a href="https://github.com/carlosgj94/huffmantry/blob/master/huffman/huffman.js">huffman.js</a>y ejecutar con node.js.
            </p>
        </div>

        <div id="compresion">

        </div>

        <div class="row marketing" style="margin-top: 90px;">
            <div class="col-lg-8">
                Introduzca la frase que quiera codificar:(no muy larga si tu ordenador tiene pocos recursos)
                <br>
                <textarea name="texto" class="form-control" id="texto"></textarea>
                <br>
                <br>
                <button class="btn btn-lg btn-primary" onclick="compresionTexto()">Codificar</button>
                <button class="btn btn-lg btn-primary" onclick="crearArbol()">Crear árbol</button>
            </div>
        </div>
        <br>
        <br>
        </div>
        <div id="canvas">

        </div>
    <div class="container">
        <br>
        <br>
        <div id="weight" style="color:#c0392b; width:auto; max-width: 105%;">
            <p id="pesos">
            </p>
        </div>

        <div id="result" style="color:#c0392b; width:auto; max-width: 105%;">

        </div>
        <br>
        <br>


        <div class="footer">
            <p>Trabajo realizado por Carlos González Juárez y Borja Irigoyen Peña para la Escuela Universitaria de Informática de la UPM. El proyecto ha sido presentado a el concurso Aplicamates del departamento de matemáticas Giemátic.</p>
        </div>

    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="huffman/arbol.js"></script>
    <script type="text/javascript" src="huffman/huffman.js"></script>

</body>

</html>